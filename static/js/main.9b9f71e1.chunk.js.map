{"version":3,"sources":["components/details/ItemCount.js","components/cart/CartContext.js","components/details/ItemDetail.js","utils/firebaseConfig.js","utils/firestoreFetch.js","components/details/ItemDetailContainer.js","components/main/Item.js","components/main/ItemList.js","components/main/ItemListContainer.js","components/header/CartWidget.js","components/header/SearchArea.js","components/header/NavBar.js","components/cart/Cart.js","App.js","index.js"],"names":["ItemCount","stock","initial","onAdd","useState","count","setCount","useEffect","className","onClick","disabled","CartContext","createContext","CartContextProvider","children","cartList","setCartList","calcTotalPerItem","idItem","index","map","item","indexOf","costItem","countItem","calcSubTotal","reduce","previousValue","currentValue","calcTaxes","calcDiscount","Provider","value","addToCart","found","find","product","id","undefined","imgItem","photo","nameItem","name","price","removeList","deleteItem","res","filter","calcTotal","calcItemsCount","ItemDetail","itemCount","setItemCount","test","useContext","src","alt","description","alert","to","role","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","firestoreFetch","idCategory","a","q","query","collection","where","orderBy","getDocs","querySnapshot","dataFromFirestore","docs","document","data","firestoreFetchOne","docRef","doc","getDoc","docSnap","exists","console","log","ItemDetailContainer","dato","setDato","useParams","then","result","catch","err","Item","title","ItemList","items","length","memo","ItemListContainer","datos","setDatos","CartWidget","cantCart","SearchArea","keyword","setKeyword","onSubmit","e","preventDefault","htmlFor","onKeyDown","key","target","onChange","NavBar","width","Cart","itemsForDB","forEach","itemRef","updateDoc","increment","order","buyer","email","phone","total","date","serverTimestamp","createOrderInFirestore","newOrderRef","setDoc","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9b9f71e1.chunk.js","sourcesContent":["\r\nimport React, { useEffect, useState } from 'react'\r\n\r\nconst ItemCount = ({stock=0, initial=0, onAdd}) => {\r\n\r\n    const [count, setCount] = useState(0)\r\n\r\n  \r\n    useEffect(()=> {\r\n        setCount(initial)\r\n    }, [])\r\n\r\n    const sumar = () => {\r\n        if (count < stock) {\r\n            setCount (count +1)\r\n        }\r\n    }\r\n\r\n    const restar = () => {\r\n        if (count > initial) {\r\n            setCount (count -1)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"btn-group-vertical item-count\">\r\n            <div>\r\n            <button onClick= {sumar}>+</button>\r\n            <span className=\"fs-3\">{count}</span>\r\n            <button onClick= {restar}>-</button>\r\n        </div>\r\n        {\r\n            stock>0?\r\n            <button className=\" fs-4 btn-primary\" onClick={()=> onAdd(count)}> Agregar al carrito</button>\r\n            :\r\n            <button disabled className=\" fs-4 btn-outline-primary\"> Agregar al carrito</button>\r\n        }\r\n\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ItemCount\r\n","import React, { createContext, useState } from 'react'\r\nexport const CartContext = createContext();\r\n\r\nconst CartContextProvider = ({ children }) => {\r\n    const [cartList, setCartList] = useState([])\r\n    const addToCart = (item, count) => {\r\n        let found = cartList.find (product => product.idItem === item.id)\r\n        if (found === undefined){\r\n        setCartList([ ...cartList,\r\n        {\r\n            idItem: item.id,\r\n            imgItem: item.photo,\r\n            nameItem: item.name,\r\n            costItem: item.price,\r\n            countItem: count\r\n        }\r\n        ])\r\n    } else {\r\n        found.countItem += count\r\n        setCartList([...cartList])\r\n    }\r\n}\r\n\r\nconst removeList = () => setCartList([])\r\n\r\nconst deleteItem = (id) => {\r\n    let res = cartList.filter(item => item.idItem !== id)\r\n    setCartList(res);\r\n}\r\nconst calcTotalPerItem = (idItem) => {\r\n    let index = cartList.map(item => item.idItem).indexOf(idItem)\r\n    return cartList[index].costItem*cartList[index].countItem\r\n}\r\nconst calcSubTotal =()=>{\r\n    let totalPerItem = cartList.map(item=>calcTotalPerItem(item.idItem))\r\n    return totalPerItem.reduce((previousValue, currentValue)=> previousValue+currentValue)\r\n}\r\nconst calcTaxes = ()=> {return calcSubTotal()*0.21}\r\n\r\nconst calcDiscount = ()=> {return calcSubTotal()*0.10}\r\n\r\nconst calcTotal = ()=> {return calcSubTotal()+calcTaxes()-calcDiscount()}\r\n\r\nconst calcItemsCount =()=>{\r\n    let count = cartList.map(item=>item.countItem)\r\n    return count.reduce(((previousValue, currentValue)=> previousValue+currentValue),0)\r\n}\r\n\r\n// const buy= ()=>{\r\n//     alert('Gracias por su compra!')\r\n//     removeList()\r\n// }\r\n\r\n    return (\r\n        <CartContext.Provider value={{\r\n            cartList, \r\n            addToCart, \r\n            removeList, \r\n            deleteItem, \r\n            calcTotalPerItem, \r\n            calcSubTotal, \r\n            calcTaxes, \r\n            calcTotal,\r\n            calcDiscount,\r\n            calcItemsCount,\r\n            // buy\r\n        }}>\r\n            { children }\r\n        </CartContext.Provider>\r\n    )\r\n}\r\n\r\nexport default CartContextProvider\r\n","import React, {useState, useContext} from 'react'\r\nimport ItemCount from './ItemCount'\r\nimport {CartContext} from '../cart/CartContext';\r\nimport { Link } from 'react-router-dom';\r\nconst ItemDetail = ({item}) => {\r\n\r\nconst [itemCount, setItemCount] = useState(0);\r\nconst test = useContext(CartContext);\r\n\r\nconst onAdd = (count) => {\r\n    alert(\"Llevas \"+count+\" \"+item.name+\"/s\")\r\n    setItemCount(count);\r\n    test.addToCart(item, count)\r\n}\r\n\r\n    return (\r\n        <>\r\n            {\r\n                item && item.photo?\r\n                <div className=\"container-fluid item-detail\">\r\n                <h1 className=\"fs-1\">{item.name}</h1>\r\n                <img src={item.photo} alt=\"imagen\"></img>\r\n                \r\n                <section>\r\n                <p>{item.description}</p>\r\n                <p>$ {item.price}</p>\r\n                <p>Stock {item.stock}</p>\r\n               { itemCount=== 0?\r\n                <ItemCount stock={item.stock} initial={itemCount} onAdd={onAdd}/>\r\n                :\r\n                <Link to='/cart'><button>Ir al carrito</button></Link>\r\n                }\r\n                </section>\r\n\r\n                </div>\r\n                :\r\n                <div className=\"spinner-border \"  role=\"status\">\r\n                <span className=\"visually-hidden\"></span>\r\n              </div>\r\n                // <p>Loading...</p>\r\n                \r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ItemDetail\r\n","\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC9gc5GDEZk1hmF4IwI9wk8j8u7_e48NGU\",\r\n  authDomain: \"resin-bleker-final.firebaseapp.com\",\r\n  projectId: \"resin-bleker-final\",\r\n  storageBucket: \"resin-bleker-final.appspot.com\",\r\n  messagingSenderId: \"999499653535\",\r\n  appId: \"1:999499653535:web:0cf170de4039b115265daa\"\r\n};\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nexport default db","import { query, orderBy, where, collection, getDocs } from '@firebase/firestore';\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport db from \"./firebaseConfig\";\r\n\r\n\r\nconst firestoreFetch = async (idCategory) => {\r\n  \r\n    let q;\r\n  if (idCategory){\r\n\r\n       q = query(collection(db, \"data\"), where('categoryId', '==', idCategory));\r\n  }else{\r\n   q = query(collection(db, \"data\"), orderBy(\"type\"));\r\n}\r\n  const querySnapshot = await getDocs(q);\r\n  const dataFromFirestore = querySnapshot.docs.map((document) => ({\r\n    id: document.id,\r\n    ...document.data(),\r\n  })\r\n );\r\n\r\n  return dataFromFirestore;\r\n  // forEach((doc) => {\r\n  //   console.log(`${doc.id} => ${doc.data()}`);\r\n  // })\r\n};\r\n\r\nexport default firestoreFetch;\r\n\r\nexport const firestoreFetchOne = async (idItem) => {\r\n  const docRef = doc(db, \"data\", idItem);\r\n  const docSnap = await getDoc(docRef);\r\n  \r\n  if (docSnap.exists()) {\r\n    return {\r\n        id: idItem,\r\n        ...docSnap.data()\r\n    }\r\n  } else {\r\n    // doc.data() will be undefined in this case\r\n    console.log(\"Not Found\");\r\n  }\r\n}","import React, {useState, useEffect} from 'react'\r\nimport { useParams } from 'react-router'\r\nimport ItemDetail from './ItemDetail'\r\n// import customFetch from '../../utils/customFetch'\r\nimport {firestoreFetchOne} from '../../utils/firestoreFetch'\r\n\r\n// const {data} = require('../../utils/data').default\r\nconst ItemDetailContainer = () => {\r\nconst [dato, setDato] = useState({})\r\nconst {idItem} = useParams()\r\n\r\n// useEffect(()=> {\r\n//     customFetch(1000, data.find(item => item.id === parseInt(idItem)))\r\n//     .then(result => setDato(result))\r\n//     .catch(err => console.log(err))\r\n// },[]) //idItem\r\n\r\nuseEffect(()=>{\r\n    firestoreFetchOne(idItem)\r\n    .then(result=>setDato(result))\r\n    .catch(err=>console.log(err))\r\n},[])\r\n\r\n    return (\r\n      \r\n         <ItemDetail item= {dato} />   \r\n  \r\n    )\r\n}\r\n\r\nexport default ItemDetailContainer\r\n","\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nconst Item = ({id, name, price, photo, stock}) => {\r\n    return (\r\n        <article>\r\n        <Link to={`/item/${id}`}>  <img src={photo} className=\"img\" alt=\"imagen\" title={`Detalles de ${name}`}></img></Link>\r\n            <h3>{name}</h3>\r\n            <h5>$ {price}</h5>\r\n            <p>Stock <b>{stock}</b></p>\r\n           \r\n        </article>\r\n    )\r\n}\r\n\r\nexport default Item\r\n","import React, {memo} from 'react'\r\nimport Item from './Item'\r\n\r\n\r\nconst ItemList = ({items}) => {\r\n    return (\r\n        <div className=\"container-fluid item-list-container\">\r\n          {  items.length > 0\r\n            ? items.map(item => \r\n            <Item \r\n            key={item.id} \r\n            id={item.id} \r\n            name={item.name} \r\n            price={item.price} \r\n            photo={item.photo} \r\n            stock={item.stock} \r\n            />)\r\n            : \r\n            <div className=\"spinner-border container-fluid\"  role=\"status\">\r\n  <span className=\"visually-hidden\"></span>\r\n</div>\r\n            // <p>Loading...</p>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default memo(ItemList)\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ItemList from \"./ItemList\";\r\nimport { useParams } from \"react-router\";\r\n// import customFetch from '../../utils/customFetch'\r\n// const {data} = require('../../utils/data').default\r\nimport firestoreFetch from \"../../utils/firestoreFetch\";\r\nconst ItemListContainer = () => {\r\n  const [datos, setDatos] = useState([]);\r\n  const { idCategory } = useParams();\r\n\r\n  // CUSTOM FETCH\r\n  // useEffect(()=> {\r\n  //     customFetch(2000, data.filter(item => {\r\n  //         if (idCategory === undefined)\r\n  //             return item\r\n  //             return item.categoryId === parseInt(idCategory)\r\n  //     }))\r\n  //     .then(result => setDatos(result))\r\n  //     .catch(err => console.log (err))\r\n  // }, [idCategory])\r\n\r\n  useEffect(() => {\r\n    firestoreFetch(idCategory)\r\n      .then((result) => setDatos(result))\r\n      .catch((err) => console.log(err));\r\n  }, [idCategory]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setDatos([]);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"container-fluid\">\r\n      <ItemList items={datos} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default ItemListContainer;\r\n","import React, {useContext } from 'react' //useEffect\r\nimport { AiOutlineShoppingCart } from 'react-icons/ai'\r\nimport { Link } from 'react-router-dom'\r\nimport {CartContext } from '../cart/CartContext';\r\n\r\nconst CartWidget = () => {\r\n    const test= useContext(CartContext)\r\nconst cantCart =test.calcItemsCount()\r\n    return (\r\n       <Link to='/cart'> <div className=\"cart nav-link active\">\r\n           <AiOutlineShoppingCart className=\" fs-1 \"/>\r\n            {/* <a className=\"nav-link active fs-1 \"><AiOutlineShoppingCart /></a> */}\r\n          {\r\n              cantCart>0 &&\r\n              <span className=\"rounded-pill d-inline p-2 bg-primary text-white\" >{cantCart}</span>\r\n\r\n          }\r\n\r\n        </div></Link>\r\n    )\r\n}\r\n\r\nexport default CartWidget\r\n","import React, { useState } from \"react\";\r\n// const {data} = require('../../utils/data.js')\r\nfunction SearchArea() {\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const submitHandler = (e) => {\r\n      e.preventDefault();\r\n      console.log(keyword);\r\n      \r\n      // grabar en el estado global este keyword, en el contexto funcion que tome keyword como argumento\r\n      // Revisar\r\n      // import { query, where } from \"firebase/firestore\";\r\n      // const q = query(citiesRef, where(\"regions\", \"array-contains\", \"west_coast\"));\r\n  };\r\n  const handleChange = (e) => {\r\n    let prohibido = /^[A-Za-z]$/\r\n   \r\n    if (!prohibido.test(e.key)) {\r\n      console.log(\"Prohibido:\", e.key);\r\n      e.preventDefault();\r\n    }\r\n    setKeyword(e.target.value);\r\n\r\n    console.log(keyword);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={submitHandler}>\r\n        <label htmlFor=\"keyword\">\r\n          <input\r\n            id=\"keyword\"\r\n            onKeyDown={handleChange}\r\n            onChange={(e) => setKeyword(e.target.value)}\r\n          />\r\n        </label>\r\n        <button className=\"btn border-primary\">Buscar</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nexport default SearchArea;\r\n\r\n","import React, {memo} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport CartWidget from './CartWidget'\r\n// import sakuraTitulo from \"../../asset/sakuraTitulo.png\"\r\nimport SearchArea from './SearchArea'\r\n\r\n\r\nconst NavBar = () => {\r\n    \r\n    return (\r\n        <>\r\n          <nav className=\"navbar navbar-expand-lg navbar-light bg-light nav-bar \">\r\n          <div className=\"container-fluid\">\r\n          <Link className=\"navbar-brand\" to='/'>\r\n             {/* <img src={sakuraTitulo} alt=\"Sakura Resin\" title=\"Sakura Resin\" width=\"200px\"/> */}\r\n             <img src=\"https://res.cloudinary.com/dgioqusuk/image/upload/v1638579251/sakuraTitulo_ax4bhl.png\" alt=\"Sakura Resin\" title=\"Sakura Resin\" width=\"200px\"/>\r\n          </Link>\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n              <Link className=\"nav-link active\" to='/category/1'>Mascotas</Link> \r\n              <Link className=\"nav-link active\" to='/category/2'>Llaveros</Link>\r\n              <Link className=\"nav-link active\" to='/category/3'>Articulos</Link>\r\n          </ul>\r\n          <SearchArea /> \r\n          <CartWidget />\r\n              </div>  \r\n        </nav>  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default memo(NavBar)\r\n","import React, { useContext } from \"react\";\r\nimport {CartContext} from \"../cart/CartContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { collection, doc, setDoc, serverTimestamp, updateDoc, increment } from \"firebase/firestore\";\r\nimport db from '../../utils/firebaseConfig';\r\nconst Cart = () => {\r\n  const test = useContext(CartContext);\r\n\r\n  const createOrder = () => {\r\n    const itemsForDB = test.cartList.map(item => ({\r\n      id: item.idItem,\r\n      title: item.nameItem,\r\n      price: item.costItem\r\n    }))\r\n\r\n    test.cartList.forEach(async (item)=>{\r\n      const itemRef = doc(db, \"data\", item.idItem)\r\n      await updateDoc(itemRef, {\r\n        stock: increment(-item.countItem)\r\n      })\r\n    })\r\n    let order = {\r\n      buyer: {\r\n        name:\"Maka Albarn\",\r\n        email: \"soul.eater@shinbunsen.com\",\r\n        phone: \"4242564\"\r\n      },\r\n      total: test.calcTotal(),\r\n      items: itemsForDB,\r\n      date: serverTimestamp()\r\n    }\r\n    console.log(order);\r\n\r\n    const createOrderInFirestore = async () => {\r\n      const newOrderRef = doc(collection(db, \"orders\"));\r\n      await setDoc(newOrderRef, order);\r\n      return newOrderRef;\r\n    }\r\n\r\ncreateOrderInFirestore()\r\n.then(result=>alert(`Su compra fue realizada. Orden: ${result.id}`))\r\n.catch(err=>console.log(err))\r\ntest.removeList()\r\n  }\r\n\r\n  return (\r\n    <section className=\"container cart-section\">\r\n        <h1>Lista de compras</h1>\r\n     \r\n      <div>\r\n          {\r\n              test.cartList.length> 0 &&\r\n                test.cartList.map(item =>\r\n                    <article className=\"cart-div container-fluid\" key={item.idItem}>\r\n                            <img src={item.imgItem} alt='imagen'></img>\r\n                                <h3 title={`Producto: ${item.nameItem}`}> {item.nameItem}</h3>\r\n                        <div>\r\n                            {\r\n                              item.countItem ===1 ?\r\n                              <span>{item.countItem} item</span>\r\n                              :\r\n                              <span>{item.countItem} items / $ {item.costItem} each</span> \r\n                            }\r\n                            <h4>$ {test.calcTotalPerItem(item.idItem)}</h4>\r\n                        </div>\r\n                            <button className=\"btn btn-danger btn-sm\" onClick={() => test.deleteItem(item.idItem)}>X</button>\r\n                    </article>\r\n                    )\r\n                   \r\n          }\r\n      </div>\r\n{\r\n    test.cartList.length > 0 &&\r\n    <article>\r\n        <h2>Orden de compra</h2>\r\n        <div>\r\n            <h3>Subtotal</h3>\r\n            <h4>$ {test.calcSubTotal()} </h4>\r\n        </div>\r\n        <div>\r\n            <h3>Impuestos</h3>\r\n            <h4>$ {test.calcTaxes()} </h4>\r\n        </div>\r\n        <div>\r\n            <h3>Descuentos</h3>\r\n            <h4>-$ {test.calcDiscount()} </h4>\r\n        </div>\r\n        <div>\r\n            <h2><b>TOTAL</b></h2>\r\n            <h3>$ {test.calcTotal()} </h3>\r\n        </div>\r\n        <div>\r\n        <Link to='/'>\r\n          <button className=\"btn btn-primary\">Seguir comprando</button>\r\n        </Link>\r\n        {test.cartList.length > 0 ? (\r\n          <button className=\"btn btn-danger\" onClick={test.removeList}>Borrar lista de compras</button>\r\n        ) : (\r\n          <p>No hay nada en el carrito</p>\r\n        )}\r\n      </div>\r\n\r\n        <Link to='/'><button className=\"btn btn-success btn-lg\" onClick={createOrder} ><b>COMPRAR</b></button></Link>\r\n    </article>\r\n}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Cart;","import {BrowserRouter, Routes, Route} from 'react-router-dom'\nimport ItemDetailContainer from '../src/components/details/ItemDetailContainer'\nimport ItemListContainer from '../src/components/main/ItemListContainer'\nimport NavBar from \"./components/header/NavBar\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './style.css'\nimport Cart from './components/cart/Cart';\nimport CartContextProvider from \"./components/cart/CartContext\";\n\nfunction App() {\n  return (\n    <>\n    <CartContextProvider>\n    <BrowserRouter>\n<NavBar />\n<Routes>\n    <Route path='/' element={<ItemListContainer/>}/>\n    <Route path='/category/:idCategory' element={<ItemListContainer/>}/>\n    <Route path='/item/:idItem' element={<ItemDetailContainer/>}/>\n    <Route path='/cart' element={<Cart/>}/>\n</Routes>\n</BrowserRouter>\n</CartContextProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}