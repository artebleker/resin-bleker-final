{"version":3,"sources":["components/details/ItemCount.js","components/cart/CartContext.js","components/details/ItemDetail.js","utils/firebaseConfig.js","utils/firestoreFetch.js","components/details/ItemDetailContainer.js","components/main/Item.js","components/main/ItemList.js","components/main/ItemListContainer.js","components/header/CartWidget.js","components/header/SearchArea.js","components/header/NavBar.js","components/cart/Cart.js","App.js","index.js"],"names":["ItemCount","stock","initial","onAdd","useState","count","setCount","useEffect","className","onClick","disabled","CartContext","createContext","CartContextProvider","children","cartList","setCartList","calcTotalPerItem","idItem","index","map","item","indexOf","costItem","countItem","calcSubTotal","reduce","previousValue","currentValue","calcTaxes","calcDiscount","Provider","value","addToCart","found","find","product","id","undefined","imgItem","photo","nameItem","name","price","removeList","deleteItem","res","filter","calcTotal","calcItemsCount","ItemDetail","itemCount","setItemCount","test","useContext","src","alt","description","alert","to","role","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","firestoreFetch","idCategory","a","q","Array","isArray","query","collection","where","orderBy","getDocs","querySnapshot","dataFromFirestore","docs","document","data","firestoreFetchOne","docRef","doc","getDoc","docSnap","exists","console","log","ItemDetailContainer","dato","setDato","useParams","then","result","catch","err","Item","title","ItemList","items","length","memo","ItemListContainer","datos","setDatos","CartWidget","cantCart","SearchArea","keyword","setKeyword","onSubmit","e","preventDefault","target","htmlFor","onChange","NavBar","width","Cart","itemsForDB","forEach","itemRef","updateDoc","increment","order","buyer","email","phone","total","date","serverTimestamp","createOrderInFirestore","newOrderRef","setDoc","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"8NA2CeA,EAvCG,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,MAA8B,IAAvBC,eAAuB,MAAf,EAAe,EAAZC,EAAY,EAAZA,MACrC,EAA0BC,mBAAS,GAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEAC,qBAAU,WACRD,EAASJ,KACR,IAcH,OACE,0BAASM,UAAU,gCAAnB,UACE,gCACE,wBAAQC,QAfA,WACRJ,EAAQJ,GACVK,EAASD,EAAQ,IAaf,eACA,sBAAMG,UAAU,OAAhB,SAAwBH,IACxB,wBAAQI,QAXC,WACTJ,EAAQH,GACVI,EAASD,EAAQ,IASf,kBAEDJ,EAAQ,EACP,wBAAQO,UAAU,oBAAoBC,QAAS,kBAAMN,EAAME,IAA3D,gCAIA,wBAAQK,UAAQ,EAACF,UAAU,4BAA3B,oC,QChCKG,EAAcC,0BA+EZC,EA7Ea,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC7B,EAAgCV,mBAAS,IAAzC,mBAAOW,EAAP,KAAiBC,EAAjB,KA0BMC,EAAmB,SAACC,GACxB,IAAIC,EAAQJ,EAASK,KAAI,SAACC,GAAD,OAAUA,EAAKH,UAAQI,QAAQJ,GACxD,OAAOH,EAASI,GAAOI,SAAWR,EAASI,GAAOK,WAE9CC,EAAe,WAEnB,OADmBV,EAASK,KAAI,SAACC,GAAD,OAAUJ,EAAiBI,EAAKH,WAC5CQ,QAClB,SAACC,EAAeC,GAAhB,OAAiCD,EAAgBC,MAG/CC,EAAY,WAChB,MAAwB,IAAjBJ,KAGHK,EAAe,WACnB,MAAwB,GAAjBL,KAeT,OACE,cAACd,EAAYoB,SAAb,CACEC,MAAO,CACLjB,WACAkB,UA3DY,SAACZ,EAAMhB,GACvB,IAAI6B,EAAQnB,EAASoB,MAAK,SAACC,GAAD,OAAaA,EAAQlB,SAAWG,EAAKgB,WACjDC,IAAVJ,EACFlB,EAAY,GAAD,mBACND,GADM,CAET,CACEG,OAAQG,EAAKgB,GACbE,QAASlB,EAAKmB,MACdC,SAAUpB,EAAKqB,KACfnB,SAAUF,EAAKsB,MACfnB,UAAWnB,OAIf6B,EAAMV,WAAanB,EACnBW,EAAY,YAAID,MA6Cd6B,WAzCa,kBAAM5B,EAAY,KA0C/B6B,WAxCa,SAACR,GAClB,IAAIS,EAAM/B,EAASgC,QAAO,SAAC1B,GAAD,OAAUA,EAAKH,SAAWmB,KACpDrB,EAAY8B,IAuCR7B,mBACAQ,eACAI,YACAmB,UAtBY,WAChB,OAAOvB,IAAiBI,IAAcC,KAsBlCA,eACAmB,eApBiB,WAErB,OADYlC,EAASK,KAAI,SAACC,GAAD,OAAUA,EAAKG,aAC3BE,QACX,SAACC,EAAeC,GAAhB,OAAiCD,EAAgBC,IACjD,KAKF,SAcGd,KChCQoC,EAvCI,SAAC,GAAc,IAAZ7B,EAAW,EAAXA,KACpB,EAAkCjB,mBAAS,GAA3C,mBAAO+C,EAAP,KAAkBC,EAAlB,KACMC,EAAOC,qBAAW3C,GAQxB,OACE,mCACGU,GAAQA,EAAKmB,MACZ,sBAAKhC,UAAU,8BAAf,UACE,oBAAIA,UAAU,OAAd,SAAsBa,EAAKqB,OAC3B,qBAAKa,IAAKlC,EAAKmB,MAAOgB,IAAI,WAE1B,0BAAShD,UAAU,kBAAnB,UACE,mBAAGA,UAAU,kBAAb,SAAgCa,EAAKoC,cACrC,qBAAIjD,UAAU,OAAd,eAAwBa,EAAKsB,SAC7B,oBAAGnC,UAAU,OAAb,mBAA2Ba,EAAKpB,SACjB,IAAdkD,EACC,cAAC,EAAD,CAAWlD,MAAOoB,EAAKpB,MAAOC,QAASiD,EAAWhD,MAlBhD,SAACE,GACbqD,MAAM,UAAYrD,EAAQ,IAAMgB,EAAKqB,KAAO,MAC5CU,EAAa/C,GACbgD,EAAKpB,UAAUZ,EAAMhB,MAiBX,cAAC,IAAD,CAAMsD,GAAG,QAAT,SACE,wBAAQnD,UAAU,0BAAlB,mCAMR,qBAAKA,UAAU,kBAAkBoD,KAAK,SAAtC,SACE,sBAAMpD,UAAU,yB,uDCzBpBqD,EAAMC,YARW,CACrBC,OAAQ,0CACRC,WAAY,qCACZC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,eACnBC,MAAO,8CAIMC,EADJC,YAAaT,GCHlBU,EAAc,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DAOpBC,EADAC,MAAMC,QAAQJ,GACVK,YAAMC,YAAWT,EAAI,QAASU,YAAM,WAAY,iBAAkBP,IAInEA,EACEK,YAAMC,YAAWT,EAAI,QAASU,YAAM,aAAc,KAAMP,IAExDK,YAAMC,YAAWT,EAAI,QAASW,YAAQ,SAdvB,SAgBOC,YAAQP,GAhBf,cAgBfQ,EAhBe,OAiBfC,EAAoBD,EAAcE,KAAKhE,KAAI,SAACiE,GAAD,oBAC/ChD,GAAIgD,EAAShD,IACVgD,EAASC,WAnBO,kBAqBhBH,GArBgB,2CAAH,sDAuBLZ,IACFgB,EAAiB,uCAAG,WAAOrE,GAAP,iBAAAuD,EAAA,6DACzBe,EAASC,YAAIpB,EAAI,OAAQnD,GADA,SAETwE,YAAOF,GAFE,YAEzBG,EAFyB,QAInBC,SAJmB,sDAM3BvD,GAAInB,GACDyE,EAAQL,SAPgB,OAU7BO,QAAQC,IAAI,gBAViB,2CAAH,sDCffC,EAba,WAC1B,MAAwB3F,mBAAS,IAAjC,mBAAO4F,EAAP,KAAaC,EAAb,KACQ/E,EAAWgF,cAAXhF,OAQR,OANAX,qBAAU,WACRgF,EAAkBrE,GACfiF,MAAK,SAACC,GAAD,OAAYH,EAAQG,MACzBC,OAAM,SAACC,GAAD,OAAST,QAAQC,IAAIQ,QAC7B,IAEI,cAAC,EAAD,CAAYjF,KAAM2E,KCOZO,EApBF,SAAC,GAAuC,IAArClE,EAAoC,EAApCA,GAAIK,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,MAAOH,EAAmB,EAAnBA,MAAOvC,EAAY,EAAZA,MACtC,OACE,oCACE,cAAC,IAAD,CAAM0D,GAAE,gBAAWtB,GAAnB,SACE,qBACEkB,IAAKf,EACLhC,UAAU,MACVgD,IAAI,SACJgD,MAAK,sBAAiB9D,OAG1B,6BAAKA,IACL,oCAAOC,KACP,uCACQ,4BAAI1C,WCbZwG,EAAW,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAClB,OACE,qBAAKlG,UAAU,sCAAf,SACGkG,EAAMC,OAAS,EACdD,EAAMtF,KAAI,SAACC,GAAD,OACR,cAAC,EAAD,CAEEgB,GAAIhB,EAAKgB,GACTK,KAAMrB,EAAKqB,KACXC,MAAOtB,EAAKsB,MACZH,MAAOnB,EAAKmB,MACZvC,MAAOoB,EAAKpB,OALPoB,EAAKgB,OASd,qBAAK7B,UAAU,iCAAiCoD,KAAK,SAArD,SACE,sBAAMpD,UAAU,yBAOXoG,iBAAKH,GCMLI,EA1BW,WACxB,MAA0BzG,mBAAS,IAAnC,mBAAO0G,EAAP,KAAcC,EAAd,KACQvC,EAAe0B,cAAf1B,WAiBR,OARAjE,qBAAU,WACRgE,EAAeC,GACZ2B,MAAK,SAACC,GAAD,OAAYW,EAASX,MAC1BC,OAAM,SAACC,GAAD,OAAST,QAAQC,IAAIQ,QAC7B,CAAC9B,IAKF,sBAAMhE,UAAU,kBAAhB,SACE,cAAC,EAAD,CAAUkG,MAAOI,O,QCJRE,EAlBI,WACjB,IACMC,EADO3D,qBAAW3C,GACFsC,iBACtB,OACE,eAAC,IAAD,CAAMU,GAAG,QAAT,UACG,IACD,sBAAKnD,UAAU,uBAAf,UACE,cAAC,IAAD,CAAuBA,UAAU,WAChCyG,EAAW,GACV,sBAAMzG,UAAU,kDAAhB,SACGyG,WCuBEC,MApCf,WACE,MAA8B9G,mBAAS,IAAvC,mBAAO+G,EAAP,KAAgBC,EAAhB,KAkBA,OAEI,aADF,CACE,gBACE,uBAAMC,SApBU,SAACC,GACrBA,EAAEC,iBACFH,EAAWE,EAAEE,OAAOxF,OACpB6D,QAAQC,IAAIqB,IAiBR,UACE,uBAAOM,QAAQ,UAAf,SACE,uBACEpF,GAAG,UAEHqF,SAAU,SAACJ,GAAD,OAAOF,EAAWE,EAAEE,OAAOxF,YAGzC,wBAAQxB,UAAU,qBAAlB,0BC3BJmH,EAAS,WACb,OACE,mCACE,qBAAKnH,UAAU,yDAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,cAAC,IAAD,CAAMA,UAAU,eAAemD,GAAG,sBAAlC,SACE,qBACEJ,IAAI,wFACJC,IAAI,eACJgD,MAAM,eACNoB,MAAM,YAGV,qBAAIpH,UAAU,kCAAd,UACE,cAAC,IAAD,CAAMA,UAAU,kBAAkBmD,GAAG,cAArC,sBAGA,cAAC,IAAD,CAAMnD,UAAU,kBAAkBmD,GAAG,cAArC,sBAGA,cAAC,IAAD,CAAMnD,UAAU,kBAAkBmD,GAAG,cAArC,0BAIF,cAAC,EAAD,IACA,cAAC,EAAD,YAOKiD,iBAAKe,GCyFLE,G,YAlHF,WACX,IAAMxE,EAAOC,qBAAW3C,GAuCxB,OACE,0BAASH,UAAU,yBAAnB,UACE,kDAEA,8BACG6C,EAAKtC,SAAS4F,OAAS,GACtBtD,EAAKtC,SAASK,KAAI,SAACC,GAAD,OAChB,0BAASb,UAAU,2BAAnB,UACE,qBAAK+C,IAAKlC,EAAKkB,QAASiB,IAAI,WAC5B,qBAAIgD,MAAK,oBAAenF,EAAKoB,UAA7B,cAA2CpB,EAAKoB,YAChD,gCACsB,IAAnBpB,EAAKG,UACJ,iCAAOH,EAAKG,UAAZ,WAEA,iCACGH,EAAKG,UADR,cAC8BH,EAAKE,SADnC,WAIF,oCAAO8B,EAAKpC,iBAAiBI,EAAKH,cAEpC,wBACEV,UAAU,wBACVC,QAAS,kBAAM4C,EAAKR,WAAWxB,EAAKH,SAFtC,iBAbiDG,EAAKH,aAsB7DmC,EAAKtC,SAAS4F,OAAS,GACtB,oCACE,iDACA,gCACE,0CACA,oCAAOtD,EAAK5B,eAAZ,UAEF,gCACE,2CACA,oCAAO4B,EAAKxB,YAAZ,UAEF,gCACE,4CACA,qCAAQwB,EAAKvB,eAAb,UAEF,gCACE,6BACE,wCAEF,oCAAOuB,EAAKL,YAAZ,UAEF,gCACE,cAAC,IAAD,CAAMW,GAAG,sBAAT,SACE,wBAAQnD,UAAU,kBAAlB,gCAED6C,EAAKtC,SAAS4F,OAAS,EACtB,wBAAQnG,UAAU,iBAAiBC,QAAS4C,EAAKT,WAAjD,qCAIA,6DAIJ,cAAC,IAAD,CAAMe,GAAG,sBAAT,SACE,wBAAQnD,UAAU,yBAAyBC,QArGjC,WAClB,IAAMqH,EAAazE,EAAKtC,SAASK,KAAI,SAACC,GAAD,MAAW,CAC9CgB,GAAIhB,EAAKH,OACTsF,MAAOnF,EAAKoB,SACZE,MAAOtB,EAAKE,aAGd8B,EAAKtC,SAASgH,QAAd,uCAAsB,WAAO1G,GAAP,eAAAoD,EAAA,6DACduD,EAAUvC,YAAIpB,EAAI,OAAQhD,EAAKH,QADjB,SAEd+G,YAAUD,EAAS,CACvB/H,MAAOiI,aAAW7G,EAAKG,aAHL,2CAAtB,uDAMA,IAAI2G,EAAQ,CACVC,MAAO,CACL1F,KAAM,cACN2F,MAAO,4BACPC,MAAO,WAETC,MAAOlF,EAAKL,YACZ0D,MAAOoB,EACPU,KAAMC,eAER5C,QAAQC,IAAIqC,GAEZ,IAAMO,EAAsB,uCAAG,4BAAAjE,EAAA,6DACvBkE,EAAclD,YAAIX,YAAWT,EAAI,WADV,SAEvBuE,YAAOD,EAAaR,GAFG,gCAGtBQ,GAHsB,2CAAH,qDAM5BD,IACGvC,MAAK,SAACC,GAAD,OAAY1C,MAAM,mCAAD,OAAoC0C,EAAO/D,QACjEgE,OAAM,SAACC,GAAD,OAAST,QAAQC,IAAIQ,MAC9BjD,EAAKT,cAmEG,SACE,oDCxFCiG,MApBf,WACE,OACE,mCACA,cAAC,EAAD,UAEA,eAAC,IAAD,WACJ,cAAC,EAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAK,sBAAsBC,QAAS,cAAC,EAAD,MAC3C,cAAC,IAAD,CAAOD,KAAK,wBAAwBC,QAAS,cAAC,EAAD,MAC7C,cAAC,IAAD,CAAOD,KAAK,gBAAgBC,QAAS,cAAC,EAAD,MACrC,cAAC,IAAD,CAAOD,KAAK,QAAQC,QAAS,cAAC,EAAD,iBChBjCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7D,SAAS8D,eAAe,W","file":"static/js/main.b74257e1.chunk.js","sourcesContent":["// Funciones para agregar o restar productos, renderizado de los botones funcionales para la compra\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst ItemCount = ({ stock, initial=0, onAdd }) => {\r\n  const [count, setCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setCount(initial);\r\n  }, []);\r\n\r\n  const sumar = () => {\r\n    if (count < stock) {\r\n      setCount(count + 1);\r\n    }\r\n  };\r\n\r\n  const restar = () => {\r\n    if (count > initial) {\r\n      setCount(count - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"btn-group-vertical item-count\">\r\n      <div>\r\n        <button onClick={sumar}>+</button>\r\n        <span className=\"fs-3\">{count}</span>\r\n        <button onClick={restar}>-</button>\r\n      </div>\r\n      {stock > 0 ? (\r\n        <button className=\" fs-4 btn-primary\" onClick={() => onAdd(count)}>\r\n          Agregar al carrito\r\n        </button>\r\n      ) : (\r\n        <button disabled className=\" fs-4 btn-outline-primary\">\r\n          Agregar al carrito\r\n        </button>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ItemCount;\r\n","// Contexto para renderizar el Cart, armado de todas las funciones\r\n\r\nimport React, { createContext, useState } from \"react\";\r\nexport const CartContext = createContext();\r\n\r\nconst CartContextProvider = ({ children }) => {\r\n  const [cartList, setCartList] = useState([]);\r\n  const addToCart = (item, count) => {\r\n    let found = cartList.find((product) => product.idItem === item.id);\r\n    if (found === undefined) {\r\n      setCartList([\r\n        ...cartList,\r\n        {\r\n          idItem: item.id,\r\n          imgItem: item.photo,\r\n          nameItem: item.name,\r\n          costItem: item.price,\r\n          countItem: count,\r\n        },\r\n      ]);\r\n    } else {\r\n      found.countItem += count;\r\n      setCartList([...cartList]);\r\n    }\r\n  };\r\n\r\n  const removeList = () => setCartList([]);\r\n\r\n  const deleteItem = (id) => {\r\n    let res = cartList.filter((item) => item.idItem !== id);\r\n    setCartList(res);\r\n  };\r\n  const calcTotalPerItem = (idItem) => {\r\n    let index = cartList.map((item) => item.idItem).indexOf(idItem);\r\n    return cartList[index].costItem * cartList[index].countItem;\r\n  };\r\n  const calcSubTotal = () => {\r\n    let totalPerItem = cartList.map((item) => calcTotalPerItem(item.idItem));\r\n    return totalPerItem.reduce(\r\n      (previousValue, currentValue) => previousValue + currentValue\r\n    );\r\n  };\r\n  const calcTaxes = () => {\r\n    return calcSubTotal() * 0.21;\r\n  };\r\n\r\n  const calcDiscount = () => {\r\n    return calcSubTotal() * 0.1;\r\n  };\r\n\r\n  const calcTotal = () => {\r\n    return calcSubTotal() + calcTaxes() - calcDiscount();\r\n  };\r\n\r\n  const calcItemsCount = () => {\r\n    let count = cartList.map((item) => item.countItem);\r\n    return count.reduce(\r\n      (previousValue, currentValue) => previousValue + currentValue,\r\n      0\r\n    );\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cartList,\r\n        addToCart,\r\n        removeList,\r\n        deleteItem,\r\n        calcTotalPerItem,\r\n        calcSubTotal,\r\n        calcTaxes,\r\n        calcTotal,\r\n        calcDiscount,\r\n        calcItemsCount,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartContextProvider;\r\n","//  Renderizado del item detallado\r\n\r\nimport React, { useState, useContext } from \"react\";\r\nimport ItemCount from \"./ItemCount\";\r\nimport { CartContext } from \"../cart/CartContext\";\r\nimport { Link } from \"react-router-dom\";\r\nconst ItemDetail = ({ item }) => {\r\n  const [itemCount, setItemCount] = useState(0);\r\n  const test = useContext(CartContext);\r\n\r\n  const onAdd = (count) => {\r\n    alert(\"Llevas \" + count + \" \" + item.name + \"/s\");\r\n    setItemCount(count);\r\n    test.addToCart(item, count);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {item && item.photo ? (\r\n        <div className=\"container-fluid item-detail\">\r\n          <h1 className=\"fs-1\">{item.name}</h1>\r\n          <img src={item.photo} alt=\"imagen\"></img>\r\n\r\n          <section className=\"container-fluid\">\r\n            <p className=\"container-fluid\">{item.description}</p>\r\n            <h2 className=\"fs-2\">$ {item.price}</h2>\r\n            <p className=\"fs-4\">Stock {item.stock}</p>\r\n            {itemCount === 0 ? (\r\n              <ItemCount stock={item.stock} initial={itemCount} onAdd={onAdd} />\r\n            ) : (\r\n              <Link to=\"/cart\">\r\n                <button className=\"btn-lg fs-4 btn-warning\">Ir al carrito</button>\r\n              </Link>\r\n            )}\r\n          </section>\r\n        </div>\r\n      ) : (\r\n        <div className=\"spinner-border \" role=\"status\">\r\n          <span className=\"visually-hidden\"></span>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemDetail;\r\n","// Trae la base de datos (db) de firebase, se exporta hacia firestoreFetch\r\n\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC9gc5GDEZk1hmF4IwI9wk8j8u7_e48NGU\",\r\n  authDomain: \"resin-bleker-final.firebaseapp.com\",\r\n  projectId: \"resin-bleker-final\",\r\n  storageBucket: \"resin-bleker-final.appspot.com\",\r\n  messagingSenderId: \"999499653535\",\r\n  appId: \"1:999499653535:web:0cf170de4039b115265daa\",\r\n};\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nexport default db;\r\n","// Toma los datos de la db (data base) de firebaseConfig para poder usarse en todo el proyecto\r\n\r\nimport {\r\n  query,\r\n  orderBy,\r\n  where,\r\n  collection,\r\n  getDocs,\r\n} from \"@firebase/firestore\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport db from \"./firebaseConfig\";\r\nconst firestoreFetch = async (idCategory) => {\r\n  let q;\r\n//   let keywordContext=\"\";\r\n// if(keywordContext){\r\n//    q = query(collection(db, \"data\"), where(\"keyWords\", \"array-contains\", keywordContext))\r\n \r\nif(Array.isArray(idCategory)){\r\n   q = query(collection(db, \"data\"), where(\"keyWords\", \"array-contains\", idCategory))\r\n   \r\n}else{\r\n\r\n  if (idCategory) \r\n    q = query(collection(db, \"data\"), where(\"categoryId\", \"==\", idCategory));\r\n   else \r\n    q = query(collection(db, \"data\"), orderBy(\"type\"));\r\n  }\r\n  const querySnapshot = await getDocs(q);\r\n  const dataFromFirestore = querySnapshot.docs.map((document) => ({\r\n    id: document.id,\r\n    ...document.data(),\r\n  }));\r\nreturn dataFromFirestore;\r\n};\r\nexport default firestoreFetch;\r\nexport const firestoreFetchOne = async (idItem) => {\r\n  const docRef = doc(db, \"data\", idItem);\r\n  const docSnap = await getDoc(docRef);\r\n\r\n  if (docSnap.exists()) {\r\n    return {\r\n      id: idItem,\r\n      ...docSnap.data(),\r\n    };\r\n  } else {\r\n    console.log(\"404 No Found\");\r\n  }\r\n};\r\n","// Traer los datos de db (data base) de firestoreFetch para usarlos en ItemDetail\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport ItemDetail from \"./ItemDetail\";\r\nimport { firestoreFetchOne } from \"../../utils/firestoreFetch\";\r\n\r\nconst ItemDetailContainer = () => {\r\n  const [dato, setDato] = useState({});\r\n  const { idItem } = useParams();\r\n\r\n  useEffect(() => {\r\n    firestoreFetchOne(idItem)\r\n      .then((result) => setDato(result))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  return <ItemDetail item={dato} />;\r\n};\r\n\r\nexport default ItemDetailContainer;\r\n","// Renderizado de cada item dentro del ItemList\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Item = ({ id, name, price, photo, stock }) => {\r\n  return (\r\n    <article>\r\n      <Link to={`/item/${id}`}>\r\n        <img\r\n          src={photo}\r\n          className=\"img\"\r\n          alt=\"imagen\"\r\n          title={`Detalles de ${name}`}\r\n        ></img>\r\n      </Link>\r\n      <h3>{name}</h3>\r\n      <h5>$ {price}</h5>\r\n      <p>\r\n        Stock <b>{stock}</b>\r\n      </p>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","// Distribuye información para el renderizado de cada Item\r\n\r\nimport React, { memo } from \"react\";\r\nimport Item from \"./Item\";\r\n\r\nconst ItemList = ({ items }) => {\r\n  return (\r\n    <div className=\"container-fluid item-list-container\">\r\n      {items.length > 0 ? (\r\n        items.map((item) => (\r\n          <Item\r\n            key={item.id}\r\n            id={item.id}\r\n            name={item.name}\r\n            price={item.price}\r\n            photo={item.photo}\r\n            stock={item.stock}\r\n          />\r\n        ))\r\n      ) : (\r\n        <div className=\"spinner-border container-fluid\" role=\"status\">\r\n          <span className=\"visually-hidden\"></span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(ItemList);\r\n","// Toma los datos de firestoreFetch para armar los detalles del item seleccionado\r\n\r\nimport React, { useEffect, useState } from \"react\"; //useContext\r\nimport ItemList from \"./ItemList\";\r\nimport { useParams } from \"react-router\";\r\nimport firestoreFetch from \"../../utils/firestoreFetch\";\r\n// import SearchAreaContext from '../header/SearchArea'\r\n\r\nconst ItemListContainer = () => {\r\n  const [datos, setDatos] = useState([]);\r\n  const { idCategory } = useParams();\r\n  // const test = useContext(SearchAreaContext)\r\n  // if (test.submitHandler()){\r\n  //   useEffect(() => {\r\n  //     firestoreFetch(test.submitHandler())\r\n  //       .then((result) => setDatos(result))\r\n  //       .catch((err) => console.log(err));\r\n  //   }, [test.submitHandler()]);\r\n  // }else {\r\n  useEffect(() => {\r\n    firestoreFetch(idCategory)\r\n      .then((result) => setDatos(result))\r\n      .catch((err) => console.log(err));\r\n  }, [idCategory]);\r\n  // }\r\n  ////// useEffect(() => {return () => {setDatos([])}}, []);\r\n\r\n  return (\r\n    <main className=\"container-fluid\">\r\n      <ItemList items={datos} />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default ItemListContainer;\r\n","// Renderizado del CartWidget: boton donde se ingresa a ver la lista de compras con el número que indica la cantidad de items en la lista\r\n\r\nimport React, { useContext } from \"react\";\r\nimport { AiOutlineShoppingCart } from \"react-icons/ai\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"../cart/CartContext\";\r\n\r\nconst CartWidget = () => {\r\n  const test = useContext(CartContext);\r\n  const cantCart = test.calcItemsCount();\r\n  return (\r\n    <Link to=\"/cart\">\r\n      {\" \"}\r\n      <div className=\"cart nav-link active\">\r\n        <AiOutlineShoppingCart className=\" fs-1 \" />\r\n        {cantCart > 0 && (\r\n          <span className=\"rounded-pill d-inline p-2 bg-primary text-white\">\r\n            {cantCart}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default CartWidget;\r\n","// Renderiza el buscador de palabras claves\r\n\r\nimport React, { useState } from \"react\"; //createContext\r\n// export const SearchAreaContext = createContext();\r\nfunction SearchArea() {\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    setKeyword(e.target.value);\r\n    console.log(keyword);\r\n   };\r\n\r\n  // Funcion para prohibir cualquier tecla que No sea del alfabeto\r\n\r\n  // const handleChange = (e) => {\r\n  //   let prohibido = /^[A-Za-z]$/;\r\n  //   if (!prohibido.test(e.key)) {\r\n  //     console.log(\"Prohibido:\", e.key);\r\n  //     e.preventDefault();\r\n  //   }\r\n  //   setKeyword(e.target.value);\r\n  // };\r\n\r\n  return (\r\n    // <SearchAreaContext.Provider value={submitHandler}>\r\n      <div>\r\n        <form onSubmit={submitHandler}>\r\n          <label htmlFor=\"keyword\">\r\n            <input\r\n              id=\"keyword\"\r\n              // onKeyDown={handleChange}\r\n              onChange={(e) => setKeyword(e.target.value)}\r\n            />\r\n          </label>\r\n          <button className=\"btn border-primary\">Buscar</button>\r\n        </form>\r\n      </div>\r\n    // </SearchAreaContext.Provider>\r\n  );\r\n}\r\nexport default SearchArea;\r\n\r\n","// Renderizado del navegador, único componente fijo en todo el sitio\r\n\r\nimport React, { memo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CartWidget from \"./CartWidget\";\r\nimport SearchArea from \"./SearchArea\";\r\n\r\nconst NavBar = () => {\r\n  return (\r\n    <>\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light nav-bar \">\r\n        <div className=\"container-fluid\">\r\n          <Link className=\"navbar-brand\" to=\"/resin-bleker-final\">\r\n            <img\r\n              src=\"https://res.cloudinary.com/dgioqusuk/image/upload/v1638579251/sakuraTitulo_ax4bhl.png\"\r\n              alt=\"Sakura Resin\"\r\n              title=\"Sakura Resin\"\r\n              width=\"200px\"\r\n            />\r\n          </Link>\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <Link className=\"nav-link active\" to=\"/category/1\">\r\n              Mascotas\r\n            </Link>\r\n            <Link className=\"nav-link active\" to=\"/category/2\">\r\n              Llaveros\r\n            </Link>\r\n            <Link className=\"nav-link active\" to=\"/category/3\">\r\n              Articulos\r\n            </Link>\r\n          </ul>\r\n          <SearchArea />\r\n          <CartWidget />\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(NavBar);\r\n","// Renderizado de la lista de los items a comprar, armado de la orden de pago y renderizado del total\r\n\r\nimport React, { useContext } from \"react\";\r\nimport { CartContext } from \"../cart/CartContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  setDoc,\r\n  serverTimestamp,\r\n  updateDoc,\r\n  increment,\r\n} from \"firebase/firestore\";\r\nimport db from \"../../utils/firebaseConfig\";\r\nconst Cart = () => {\r\n  const test = useContext(CartContext);\r\n\r\n  const createOrder = () => {\r\n    const itemsForDB = test.cartList.map((item) => ({\r\n      id: item.idItem,\r\n      title: item.nameItem,\r\n      price: item.costItem,\r\n    }));\r\n\r\n    test.cartList.forEach(async (item) => {\r\n      const itemRef = doc(db, \"data\", item.idItem);\r\n      await updateDoc(itemRef, {\r\n        stock: increment(-item.countItem),\r\n      });\r\n    });\r\n    let order = {\r\n      buyer: {\r\n        name: \"Maka Albarn\",\r\n        email: \"soul.eater@shinbunsen.com\",\r\n        phone: \"4242564\",\r\n      },\r\n      total: test.calcTotal(),\r\n      items: itemsForDB,\r\n      date: serverTimestamp(),\r\n    };\r\n    console.log(order);\r\n\r\n    const createOrderInFirestore = async () => {\r\n      const newOrderRef = doc(collection(db, \"orders\"));\r\n      await setDoc(newOrderRef, order);\r\n      return newOrderRef;\r\n    };\r\n\r\n    createOrderInFirestore()\r\n      .then((result) => alert(`Su compra fue realizada. Orden: ${result.id}`))\r\n      .catch((err) => console.log(err));\r\n    test.removeList();\r\n  };\r\n\r\n  return (\r\n    <section className=\"container cart-section\">\r\n      <h1>Lista de compras</h1>\r\n\r\n      <div>\r\n        {test.cartList.length > 0 &&\r\n          test.cartList.map((item) => (\r\n            <article className=\"cart-div container-fluid\" key={item.idItem}>\r\n              <img src={item.imgItem} alt=\"imagen\"></img>\r\n              <h3 title={`Producto: ${item.nameItem}`}> {item.nameItem}</h3>\r\n              <div>\r\n                {item.countItem === 1 ? (\r\n                  <span>{item.countItem} item</span>\r\n                ) : (\r\n                  <span>\r\n                    {item.countItem} items / $ {item.costItem} each\r\n                  </span>\r\n                )}\r\n                <h4>$ {test.calcTotalPerItem(item.idItem)}</h4>\r\n              </div>\r\n              <button\r\n                className=\"btn btn-danger btn-sm\"\r\n                onClick={() => test.deleteItem(item.idItem)}\r\n              >\r\n                X\r\n              </button>\r\n            </article>\r\n          ))}\r\n      </div>\r\n      {test.cartList.length > 0 && (\r\n        <article>\r\n          <h2>Orden de compra</h2>\r\n          <div>\r\n            <h3>Subtotal</h3>\r\n            <h4>$ {test.calcSubTotal()} </h4>\r\n          </div>\r\n          <div>\r\n            <h3>Impuestos</h3>\r\n            <h4>$ {test.calcTaxes()} </h4>\r\n          </div>\r\n          <div>\r\n            <h3>Descuentos</h3>\r\n            <h4>-$ {test.calcDiscount()} </h4>\r\n          </div>\r\n          <div>\r\n            <h2>\r\n              <b>TOTAL</b>\r\n            </h2>\r\n            <h3>$ {test.calcTotal()} </h3>\r\n          </div>\r\n          <div>\r\n            <Link to=\"/resin-bleker-final\">\r\n              <button className=\"btn btn-primary\">Seguir comprando</button>\r\n            </Link>\r\n            {test.cartList.length > 0 ? (\r\n              <button className=\"btn btn-danger\" onClick={test.removeList}>\r\n                Borrar lista de compras\r\n              </button>\r\n            ) : (\r\n              <p>No hay nada en el carrito</p>\r\n            )}\r\n          </div>\r\n\r\n          <Link to=\"/resin-bleker-final\">\r\n            <button className=\"btn btn-success btn-lg\" onClick={createOrder}>\r\n              <b>COMPRAR</b>\r\n            </button>\r\n          </Link>\r\n        </article>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import {BrowserRouter, Routes, Route} from 'react-router-dom'\nimport ItemDetailContainer from '../src/components/details/ItemDetailContainer'\nimport ItemListContainer from '../src/components/main/ItemListContainer'\nimport NavBar from \"./components/header/NavBar\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './style.css'\nimport Cart from './components/cart/Cart';\nimport CartContextProvider from \"./components/cart/CartContext\";\n// import SearchAreaContext from './components/header/SearchArea';\n\n\nfunction App() {\n  return (\n    <>\n    <CartContextProvider>\n    {/* <SearchAreaContext> */}\n    <BrowserRouter>\n<NavBar />\n<Routes>\n    <Route path='/resin-bleker-final' element={<ItemListContainer/>}/>\n    <Route path='/category/:idCategory' element={<ItemListContainer/>}/>\n    <Route path='/item/:idItem' element={<ItemDetailContainer/>}/>\n    <Route path='/cart' element={<Cart/>}/>\n</Routes>\n</BrowserRouter>\n{/* </SearchAreaContext> */}\n</CartContextProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}